# 坐标系转换笔记
坐标系的转换是一个非常重要的概念。常见的坐标系包括世界坐标系、相机坐标系、图像坐标系和像素坐标系。本学习笔记将介绍这些坐标系之间的转换关系。

# 一、学习内容

## 1. 世界坐标系
世界坐标系是一个三维坐标系，用于描述场景中物体的位置。通常，世界坐标系的原点选择在场景的中心位置。
## 2. 相机坐标系
相机坐标系是一个以相机光心为原点的三维坐标系。X轴和Y轴分别平行于图像平面的水平和垂直方向，Z轴为相机光轴，指向场景方向。
### 2.1 世界坐标系到相机坐标系的转换
设点P在世界坐标系中的坐标为$ (X_w, Y_w, Z_w) $，在相机坐标系中的坐标为$ (X_c, Y_c, Z_c) $，则转换关系为：
$$
\begin{bmatrix}
X_c \\
Y_c \\
Z_c \\
1
\end{bmatrix}
=
\begin{bmatrix}
R & T \\
0 & 1
\end{bmatrix}
\begin{bmatrix}
X_w \\
Y_w \\
Z_w \\
1
\end{bmatrix}
$$
其中，R为旋转矩阵，T为平移向量。
## 3. 图像坐标系
图像坐标系是一个二维坐标系，原点位于图像中心，X轴和Y轴分别平行于图像的水平和垂直方向。
### 3.1 相机坐标系到图像坐标系的转换
设点P在相机坐标系中的坐标为$ (X_c, Y_c, Z_c) $，在图像坐标系中的坐标为$ (x_i, y_i) $，则转换关系为：
$$
\begin{bmatrix}
x_i \\
y_i \\
1
\end{bmatrix}
=
\begin{bmatrix}
f & 0 & c_x \\
0 & f & c_y \\
0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
X_c / Z_c \\
Y_c / Z_c \\
1
\end{bmatrix}
$$
其中，f为相机焦距，$ (c_x, c_y) $为图像中心坐标。
## 4. 像素坐标系
像素坐标系是一个离散的二维坐标系，原点位于图像左上角，X轴和Y轴分别平行于图像的水平和垂直方向。
### 4.1 图像坐标系到像素坐标系的转换
设点P在图像坐标系中的坐标为$ (x_i, y_i) $，在像素坐标系中的坐标为$ (u, v) $，则转换关系为：
$$
\begin{bmatrix}
u \\
v
\end{bmatrix}
=
\begin{bmatrix}
x_i + \frac{w}{2} \\
y_i + \frac{h}{2}
\end{bmatrix}
$$
其中，w和h分别为图像的宽度和高度。

# 二、学习问题

## 1.尚未进行实操，对于转换逻辑尚不清晰（后续调车工作重点观察）

## 2.正在学习坐标系转换代码。。。（下一步学习相机标定等知识）

